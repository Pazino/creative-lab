<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For My Love ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
*{
  box-sizing:border-box;
  font-family:'Poppins',sans-serif;
}

body{
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#fff;
  overflow:hidden;
}

.secret-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.7);
  display:flex;
  justify-content:center;
  align-items:center;
  opacity:0;
  pointer-events:none;
  transition:opacity .5s ease;
  z-index:100;
}

.secret-box{
  background:#fff;
  padding:25px 30px;
  border-radius:14px;
  text-align:center;
  max-width:280px;
  box-shadow:0 10px 30px rgba(0,0,0,.4);
  transform:scale(0.7);
  transition:transform .5s ease;
}

.secret-box h2{
  font-family:'Great Vibes',cursive;
  color:#ff3366;
  font-size:32px;
  margin:0 0 10px;
}

.secret-box p{
  font-size:14px;
  color:#444;
  line-height:1.5;
}

.secret-show{
  opacity:1;
  pointer-events:auto;
}

.secret-show .secret-box{
  transform:scale(1);
}

.envelope-wrap{
  position:relative;
  perspective:1200px;
  margin-top:120px;
}

.envelope{
  width:320px;
  height:220px;
  position:relative;
  cursor:pointer;
  transition:transform .4s;
  transform-style:preserve-3d;
}

.envelope:hover{ transform:scale(1.03); }

.back{
  position:absolute;
  inset:0;
  background:#f7d6df;
  border-radius:8px;
  z-index:1;
}

.front{
  position:absolute;
  inset:0;
  background:#ffdbe7;
  clip-path:polygon(0 100%,50% 45%,100% 100%,100% 0,0 0);
  z-index:4;
}

.flap{
  position:absolute;
  inset:0;
  background:#ffb6c9;
  clip-path:polygon(0 0,100% 0,50% 55%);
  transform-origin:top center;
  transition:transform .8s ease-in-out;
  z-index:5;
}

.heart{
  position:absolute;
  width:35px;
  height:35px;
  background:#e60023;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%) rotate(45deg);
  z-index:6;
}

.heart:before,
.heart:after{
  content:'';
  position:absolute;
  width:35px;
  height:35px;
  background:#e60023;
  border-radius:50%;
}

.heart:before{ top:-18px; }
.heart:after{ left:-18px; }

.letter{
  position:absolute;
  width:90%;
  min-height:180px;
  background:#fff;
  left:5%;
  bottom:12px;
  border-radius:8px;
  padding:18px 16px 20px;
  text-align:center;
  box-shadow:0 6px 16px rgba(0,0,0,.25);
  transform-origin:bottom center;
  transform:translateY(40px) rotateX(85deg) scaleY(0.15);
  transition:transform 1.2s cubic-bezier(.22,1.2,.36,1), opacity .8s ease;
  z-index:2;
  opacity:0;
}

.letter h3{
  margin:6px 0 10px;
  color:#ff3366;
  font-family:'Great Vibes',cursive;
  font-size:28px;
}

.letter p{
  font-size:14px;
  line-height:1.6;
  color:#444;
}

#counter{
  margin-top:10px;
  font-weight:600;
  color:#ff3366;
  font-size:14px;
}

.love-photo{
  width:80px;
  height:80px;
  border-radius:50%;
  object-fit:cover;
  border:3px solid #ff5a8a;
  margin-bottom:8px;
}

.open .flap{ transform:rotateX(180deg); }

.open .letter{
  transform:translateY(-90px) rotateX(0deg) scaleY(1);
  opacity:1;
  z-index:7;
}

.open .front{ z-index:1; }

.bubble-heart{
  position:fixed;
  pointer-events:none;
  font-size:18px;
  color:#ff5fa2;
  opacity:0;
}

.confetti{
  position:fixed;
  pointer-events:none;
  width:8px;
  height:8px;
}

.petal{
  position:fixed;
  pointer-events:none;
  width:12px;
  height:16px;
  background:radial-gradient(circle at 30% 30%, #ffc1cf, #cc0038);
  border-radius:60% 40% 60% 40%;
  opacity:0.85;
}
</style>
</head>

<body>

<div class="secret-overlay" id="secret">
  <div class="secret-box">
    <h2>I Love You ‚ù§Ô∏è</h2>
    <p>
      You found my secret üòò<br><br>
      You are my forever, my happiness,
      and my greatest blessing.
      I love you Kanmani more than words can say üíçüíï
    </p>
  </div>
</div>

<div class="envelope-wrap">
  <div class="envelope" id="envelope">

    <div class="back"></div>

    <div class="letter">

      <img src="us.jpg" class="love-photo" id="photo">

      <h3>My Love ‚ù§Ô∏è</h3>
      <p>
        My Dear Beautiful Wife,<br><br>
        Every day with you feels like a blessing.
        Thank you for being my strength, my smile,
        and my forever love.<br><br>
        I‚Äôm lucky to have you. Always. üíï
      </p>

      <div id="counter"></div>

    </div>

    <div class="front"></div>
    <div class="flap"></div>
    <div class="heart"></div>

  </div>
</div>

<script>
let opened=false;
const envelope=document.getElementById('envelope');
const photo=document.getElementById('photo');
const secret=document.getElementById('secret');

envelope.addEventListener('click',openLetter);

let lastTap=0;
photo.addEventListener('touchend',handleTap);
photo.addEventListener('click',handleTap);

secret.addEventListener('click',()=>{
  secret.classList.remove('secret-show');
});

function handleTap(){
  const now=Date.now();
  if(now-lastTap<350){
    showSecret();
  }
  lastTap=now;
}

function showSecret(){
  secret.classList.add('secret-show');
}

function openLetter(){
  if(opened) return;
  opened=true;

  envelope.classList.add('open');

  startBubbleHearts();
  createConfettiBurst();
  createPetalsBurst();
}

function updateCounter(){
  const start=new Date('2024-09-15');
  const now=new Date();
  const days=Math.floor((now-start)/(1000*60*60*24));

  document.getElementById('counter').textContent=
    `We‚Äôve been in love for ${days} days ‚ù§Ô∏è`;
}

updateCounter();

function startBubbleHearts(){
  for(let i=0;i<120;i++){
    setTimeout(createBubbleHeart,i*150);
  }
}

function createBubbleHeart(){
  const h=document.createElement('div');
  h.className='bubble-heart';
  h.textContent='‚ù§Ô∏è';

  const x=Math.random()*window.innerWidth;
  const y=window.innerHeight+20;

  h.style.left=x+'px';
  h.style.top=y+'px';

  const size=14+Math.random()*16;
  h.style.fontSize=size+'px';

  const drift=(Math.random()-0.5)*140;
  const rise=window.innerHeight+300;

  h.animate([
    {transform:'translate(0,0)',opacity:0},
    {transform:`translate(${drift}px,-${rise/2}px)`,opacity:0.8},
    {transform:`translate(${drift}px,-${rise}px)`,opacity:0}
  ],{duration:6500,easing:'ease-out'});

  document.body.appendChild(h);

  setTimeout(()=>h.remove(),6700);
}

function createConfettiBurst(){
  const rect=envelope.getBoundingClientRect();
  const x=rect.left+rect.width/2;
  const y=rect.top+rect.height/2;

  for(let i=0;i<35;i++){
    const c=document.createElement('div');
    c.className='confetti';

    c.style.left=x+'px';
    c.style.top=y+'px';
    c.style.background=`hsl(${Math.random()*360},80%,60%)`;

    const dx=(Math.random()-0.5)*300;
    const dy=(150+Math.random()*300);

    c.animate([
      {transform:'translate(0,0) rotate(0)',opacity:1},
      {transform:`translate(${dx}px,${dy}px) rotate(360deg)`,opacity:0}
    ],{duration:2500,easing:'ease-out'});

    document.body.appendChild(c);
    setTimeout(()=>c.remove(),2600);
  }
}

function createPetalsBurst(){
  const rect=envelope.getBoundingClientRect();
  const x=rect.left+rect.width/2;
  const y=rect.top+rect.height/2;

  for(let i=0;i<30;i++){
    const p=document.createElement('div');
    p.className='petal';

    p.style.left=x+'px';
    p.style.top=y+'px';

    const dx=(Math.random()-0.5)*240;
    const dy=(Math.random()-0.5)*240;
    const scale=1.2+Math.random()*0.8;

    p.animate([
      {transform:'translate(0,0) scale(0.4)',opacity:1},
      {transform:`translate(${dx}px,${dy}px) scale(${scale})`,opacity:0}
    ],{duration:2600,easing:'ease-out'});

    document.body.appendChild(p);
    setTimeout(()=>p.remove(),2700);
  }
}
</script>

</body>
</html>
